@model RecipeWorld.ViewModel.RecipeFormViewModel
@{
    /**/

    ViewBag.Title = "Index";
}

@if (Model.Recipe.Id == 0)
{
    <h2>Write new recipe</h2>
}
else
{
    <h2>Update recipe</h2>
}

@using (Html.BeginForm("Save", "WriteRecipe"))
{
    @Html.ValidationSummary(true, "Please fix the form")
    <div>
        <p>@Model.Recipe.User.Email</p>
        <p>@Model.Recipe.CreateDate</p>
        <p>@Model.Recipe.ModifiedDate</p>
        @Html.HiddenFor(b => b.Recipe.User.Email)
        @Html.HiddenFor(b => b.Recipe.CreateDate)
        @Html.HiddenFor(b => b.Recipe.ModifiedDate)
    </div>
    <div>
        <div class="col col-sm-12">
            @Html.LabelFor(r => r.Recipe.Title)
            @Html.TextBoxFor(r => r.Recipe.Title, new { @class = "form-control" })
            @Html.ValidationMessageFor(r => r.Recipe.Title)
        </div>
    </div>
    <div>
        <div class="col col-sm-12">
            @Html.LabelFor(r => r.Recipe.Ingredients)
            @Html.TextAreaFor(r => r.Recipe.Ingredients, new { @class = "form-control", @rows = 5 })
            @Html.ValidationMessageFor(r => r.Recipe.Ingredients)
        </div>
    </div>
    <div>
        <div class="col col-sm-12">
            @Html.LabelFor(r => r.Recipe.Contents)
            @Html.TextAreaFor(r => r.Recipe.Contents, new { @class = "form-control", @rows = 10 })
            @Html.ValidationMessageFor(r => r.Recipe.Contents)
        </div>
    </div>

    @Html.HiddenFor(b => b.Recipe.Id)
    @Html.HiddenFor(b => b.Recipe.ViewCount)
    <br />
    @Html.AntiForgeryToken()
    <button type="submit" class="btn btn-primary">Save Recipe</button>
}
